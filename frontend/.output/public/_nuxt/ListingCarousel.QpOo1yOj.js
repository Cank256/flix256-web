import{b as K,e as X,n as G,s as J,r as Q,y as Z,g as ee,h as te,t as se,_ as Y}from"./Functions.G-etegh6.js";import{_ as q}from"./nuxt-link.HmH_W_nj.js";import{o as d,g as k,w as B,a as l,q as T,n as h,c as f,h as m,t as v,T as R,b as M,d as le,F as oe,k as re}from"./entry.vVFzJHlF.js";import{_ as I}from"./_plugin-vue_export-helper.x3n3nnut.js";let x,w,C,j;const ie={props:{data:{type:Array,required:!1,default:function(){return[]}},type:{type:String,required:!1,default:"image"},modifier:{type:String,required:!1,default:""},nav:{type:Boolean,required:!1,default:!1},startAt:{type:Number,required:!1,default:0},ariaLabel:{type:String,required:!1,default:""}},head(){return{bodyAttrs:{class:"modal-open"}}},data(){return{selected:null,activeItem:null}},computed:{modalClass(){return{"modal--nav":this.showNav,[`modal--${this.type}`]:!0,[this.modifier]:!0}},showNav(){return this.nav&&this.data.length>1},label(){return this.ariaLabel?this.ariaLabel:this.activeItem&&this.activeItem.name?this.activeItem.name:null}},watch:{selected(){this.activeItem=this.data[this.selected]}},created(){this.selected=this.startAt},beforeMount(){window.addEventListener("keydown",this.handleKeyDown),x=document.activeElement},mounted(){w=this.$refs.modal.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),w=Array.prototype.slice.call(w),C=w[0],j=w[w.length],C.focus(),this.type==="iframe"&&(this.handleIframeSize(),window.addEventListener("resize",this.resizeIframeSize))},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown),this.type==="iframe"&&window.removeEventListener("resize",this.resizeIframeSize),x&&x.focus()},methods:{previous(){this.selected=(this.selected+this.data.length)%this.data.length},next(){this.selected=(this.selected+1)%this.data.length},close(){this.$emit("close")},handleKeyDown(e){if(e.keyCode===27)this.close();else if(this.nav&&e.keyCode===39)this.next();else if(this.nav&&e.keyCode===37)this.previous();else if(e.keyCode===9){if(w.length===1){e.preventDefault();return}e.shiftKey?this.handleBackwardTab(e):this.handleForwardTab(e)}},handleForwardTab(e){document.activeElement===j&&(e.preventDefault(),C.focus())},handleBackwardTab(e){document.activeElement===C&&(e.preventDefault(),j.focus())},handleIframeSize(){const e=1.7777777777777777,o=getComputedStyle(this.$refs.modal);let i=this.$refs.modal.offsetWidth,s=this.$refs.modal.offsetHeight,n,r;i-=parseFloat(o.paddingRight)+parseFloat(o.paddingLeft),s-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),n=i,r=s,s>i/e?r=i/e:i>s*e&&(n=s*e),this.$refs.modal.querySelector(".modal__iframe").style.width=`${n}px`,this.$refs.modal.querySelector(".modal__iframe").style.height=`${r}px`},resizeIframeSize:K(function(){this.handleIframeSize()},600)}},ne=["aria-label"],ae={class:"modal__wrap"},de=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},[l("g",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"1.5"},[l("path",{d:"M.75.75l13.5 13.5M14.25.75L.75 14.25"})])],-1),ce=[de],ue=["src"],me={key:0,class:"modal__nav"},fe=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[l("path",{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M17.9 23.2L6.1 12 17.9.8"})],-1),he=[fe],pe={class:"modal__count"},_e=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[l("path",{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M6.1 23.2L17.9 12 6.1.8"})],-1),ve=[_e];function ge(e,o,i,s,n,r){const p=X;return d(),k(R,{name:"modal",appear:""},{default:B(()=>[l("div",{ref:"modal",class:h(["modal",r.modalClass]),tabindex:"-1","aria-hidden":"false","aria-label":r.label,role:"dialog",onClick:o[4]||(o[4]=(...c)=>r.close&&r.close(...c))},[l("div",ae,[l("div",{class:"modal__body",onClick:o[3]||(o[3]=T(()=>{},["stop"]))},[l("button",{class:"modal__close","aria-label":"Close",type:"button",onClick:o[0]||(o[0]=T((...c)=>r.close&&r.close(...c),["stop"]))},ce),l("div",{class:h(`modal__${i.type}`)},[i.type==="iframe"&&n.activeItem?(d(),f("iframe",{key:0,src:n.activeItem.src,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,ue)):m("",!0),i.type==="image"&&n.activeItem?(d(),k(p,{key:1,src:n.activeItem.src,loading:"lazy",class:"lazyload",alt:e.name},null,8,["src","alt"])):m("",!0)],2),r.showNav?(d(),f("div",me,[l("button",{class:"modal__arrow modal__arrow--prev","aria-label":"Previous",type:"button",onClick:o[1]||(o[1]=T((...c)=>r.previous&&r.previous(...c),["stop"]))},he),l("div",pe,v(n.selected+1)+" / "+v(i.data.length),1),l("button",{class:"modal__arrow modal__arrow--next","aria-label":"Next",type:"button",title:"Next",onClick:o[2]||(o[2]=T((...c)=>r.next&&r.next(...c),["stop"]))},ve)])):m("",!0)])])],10,ne)]),_:1})}const A=I(ie,[["render",ge]]),ye="_hero_1dk0j_1",be="_backdrop_1dk0j_24",we="_play_1dk0j_59",ke="_image_1dk0j_75",Ee="_pane_1dk0j_87",Se="_name_1dk0j_121",Be="_meta_1dk0j_139",Le="_rating_1dk0j_153",Te="_stars_1dk0j_164",Ce="_info_1dk0j_185",$e="_desc_1dk0j_193",xe="_trailer_1dk0j_210",je={hero:ye,backdrop:be,play:we,image:ke,pane:Ee,name:Se,meta:Be,rating:Le,stars:Te,info:Ce,desc:$e,trailer:xe},Me={components:{Modal:A},mixins:[G,J,Q,Z,ee,te,se],props:{item:{type:Object,required:!0}},data(){return{isSingle:this.item.id===this.$route.params.id,modalVisible:!1}},computed:{type(){return this.item.title?"movie":"tv"}},methods:{openModal(){this.modalVisible=!0},closeModal(){this.modalVisible=!1},truncateText(e,o){return e.length>o?e.substring(0,o)+"...":e}}},Ie=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"55",viewBox:"0 0 55 55"},[l("circle",{cx:"27.5",cy:"27.5",r:"26.75",fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),l("path",{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20.97 40.81L40.64 27.5 20.97 14.19v26.62z"})],-1),We=[Ie],ze={style:{"padding-left":"5rem"}},Oe={key:0},Ne={key:1},Ve={key:2},Xe={key:3},Ye=l("span",{class:"icon"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",fill:"#fff"},[l("path",{d:"M3 22v-20l18 10-18 10z"})])],-1),qe=l("span",{class:"txt"},"Watch Trailer",-1),Re=[Ye,qe];function Ae(e,o,i,s,n,r){const p=X,c=q,_=A;return d(),f("div",null,[l("div",{class:h(e.$style.hero)},[l("div",{class:h(e.$style.backdrop)},[l("div",null,[e.trailer?(d(),f("button",{key:0,class:h(e.$style.play),type:"button","aria-label":"Play Trailer",onClick:o[0]||(o[0]=(...E)=>r.openModal&&r.openModal(...E))},We,2)):m("",!0),e.backdrop?(d(),k(p,{key:1,src:e.backdrop,loading:"lazy",class:h(e.$style.image),alt:e.name},null,8,["src","class","alt"])):m("",!0)])],2),l("div",{class:h(e.$style.pane)},[M(R,{appear:"",name:"hero"},{default:B(()=>[l("div",ze,[l("h1",{class:h(e.$style.name)},[M(c,{to:{name:`${r.type}-id`,params:{id:i.item.id}}},{default:B(()=>[le(v(e.name),1)]),_:1},8,["to"])],2),l("div",{class:h(e.$style.meta)},[l("div",{class:h(e.$style.info)},[i.item.number_of_seasons?(d(),f("span",Oe,"Season "+v(i.item.number_of_seasons),1)):m("",!0),e.yearStart?(d(),f("span",Ne,v(e.yearStart),1)):m("",!0),i.item.runtime?(d(),f("span",Ve,v(e.runtime),1)):m("",!0),e.cert?(d(),f("span",Xe,"Rated ("+v(e.cert)+")",1)):m("",!0)],2)],2),l("div",{class:h(e.$style.desc)},v(r.truncateText(i.item.overview,600)),3),e.trailer?(d(),f("button",{key:0,class:h(["button button--icon",e.$style.trailer]),type:"button",onClick:o[1]||(o[1]=(...E)=>r.openModal&&r.openModal(...E))},Re,2)):m("",!0)])]),_:1})],2)],2),n.modalVisible?(d(),k(_,{key:0,data:e.trailer,type:"iframe",onClose:r.closeModal},null,8,["data","onClose"])):m("",!0)])}const Pe={$style:je},ft=I(Me,[["render",Ae],["__cssModules",Pe]]);function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P={exports:{}};(function(e,o){(function(){function i(){var s=window,n=document;if("scrollBehavior"in n.documentElement.style&&s.__forceSmoothScrollPolyfill__!==!0)return;var r=s.HTMLElement||s.Element,p=468,c={scroll:s.scroll||s.scrollTo,scrollBy:s.scrollBy,elementScroll:r.prototype.scroll||z,scrollIntoView:r.prototype.scrollIntoView},_=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now;function E(t){var a=["MSIE ","Trident/","Edge/"];return new RegExp(a.join("|")).test(t)}var W=E(s.navigator.userAgent)?1:0;function z(t,a){this.scrollLeft=t,this.scrollTop=a}function D(t){return .5*(1-Math.cos(Math.PI*t))}function S(t){if(t===null||typeof t!="object"||t.behavior===void 0||t.behavior==="auto"||t.behavior==="instant")return!0;if(typeof t=="object"&&t.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function O(t,a){if(a==="Y")return t.clientHeight+W<t.scrollHeight;if(a==="X")return t.clientWidth+W<t.scrollWidth}function N(t,a){var u=s.getComputedStyle(t,null)["overflow"+a];return u==="auto"||u==="scroll"}function F(t){var a=O(t,"Y")&&N(t,"Y"),u=O(t,"X")&&N(t,"X");return a||u}function U(t){for(;t!==n.body&&F(t)===!1;)t=t.parentNode||t.host;return t}function V(t){var a=_(),u,y,b,g=(a-t.startTime)/p;g=g>1?1:g,u=D(g),y=t.startX+(t.x-t.startX)*u,b=t.startY+(t.y-t.startY)*u,t.method.call(t.scrollable,y,b),(y!==t.x||b!==t.y)&&s.requestAnimationFrame(V.bind(s,t))}function L(t,a,u){var y,b,g,$,H=_();t===n.body?(y=s,b=s.scrollX||s.pageXOffset,g=s.scrollY||s.pageYOffset,$=c.scroll):(y=t,b=t.scrollLeft,g=t.scrollTop,$=z),V({scrollable:y,method:$,startTime:H,startX:b,startY:g,x:a,y:u})}s.scroll=s.scrollTo=function(){if(arguments[0]!==void 0){if(S(arguments[0])===!0){c.scroll.call(s,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:s.scrollX||s.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:s.scrollY||s.pageYOffset);return}L.call(s,n.body,arguments[0].left!==void 0?~~arguments[0].left:s.scrollX||s.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:s.scrollY||s.pageYOffset)}},s.scrollBy=function(){if(arguments[0]!==void 0){if(S(arguments[0])){c.scrollBy.call(s,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}L.call(s,n.body,~~arguments[0].left+(s.scrollX||s.pageXOffset),~~arguments[0].top+(s.scrollY||s.pageYOffset))}},r.prototype.scroll=r.prototype.scrollTo=function(){if(arguments[0]!==void 0){if(S(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===void 0)throw new SyntaxError("Value could not be converted");c.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}var t=arguments[0].left,a=arguments[0].top;L.call(this,this,typeof t>"u"?this.scrollLeft:~~t,typeof a>"u"?this.scrollTop:~~a)}},r.prototype.scrollBy=function(){if(arguments[0]!==void 0){if(S(arguments[0])===!0){c.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},r.prototype.scrollIntoView=function(){if(S(arguments[0])===!0){c.scrollIntoView.call(this,arguments[0]===void 0?!0:arguments[0]);return}var t=U(this),a=t.getBoundingClientRect(),u=this.getBoundingClientRect();t!==n.body?(L.call(this,t,t.scrollLeft+u.left-a.left,t.scrollTop+u.top-a.top),s.getComputedStyle(t).position!=="fixed"&&s.scrollBy({left:a.left,top:a.top,behavior:"smooth"})):s.scrollBy({left:u.left,top:u.top,behavior:"smooth"})}}e.exports={polyfill:i}})()})(P);var Fe=P.exports;const Ue=De(Fe),He={components:{Card:Y},mixins:[],data(){return{elementWidth:0,carouselWidth:0,visibleWidth:0,maximumPosition:0,unusableVisibleWidth:0,disableLeftButton:!0,disableRightButton:!1,favorites:[]}},props:{title:{type:String,required:!1,default:""},viewAllUrl:{type:Object,required:!1,default:function(){return null}},items:{type:Object,required:!0}},mounted(){Ue.polyfill(),window.addEventListener("resize",this.resizeEvent);const e=this.viewAllUrl?this.items.length+1:this.items.length;this.calculateState(e)},beforeDestroy(){window.removeEventListener("resize",this.resizeEvent)},constructor(){this.$refs={carouselElement:document.createElement("div")}},methods:{calculateState(e){if(!(this.$refs.carouselElement instanceof HTMLElement))return;let o=72;const i=this.$refs.carouselElement.querySelector(":first-child"),s=i?i.getBoundingClientRect().width:0,n=e*s,r=this.$refs.carouselElement.scrollWidth;window.innerWidth>=1200&&(o=92);const p=this.$refs.carouselElement.offsetWidth-o;this.unusableVisibleWidth=o,this.elementWidth=s,this.carouselWidth=n,this.visibleWidth=p,this.maximumPosition=r,this.disableLeftButton=!this.$refs.carouselElement.scrollLeft,this.disableRightButton=p>=n},moveTo(e){this.$refs.carouselElement.scrollTo({left:e,behavior:"smooth"})},moveToClickEvent(e="left"|"right"){const o=this.$refs.carouselElement.scrollLeft+(e==="left"?-this.visibleWidth+1:this.visibleWidth),i=o-o%this.elementWidth;this.moveTo(i)},scrollEvent(){const e=this.$refs.carouselElement.scrollLeft,o=this.maximumPosition-this.visibleWidth-this.elementWidth;this.disableLeftButton=e<3,this.disableRightButton=e>o},resizeEvent(){const e=this.viewAllUrl?this.items.length+1:this.items.length;this.calculateState(e)}}},Ke={class:"listing listing--carousel"},Ge={key:0,class:"listing__head"},Je={key:0,class:"listing__title"},Qe=l("strong",null,"Explore All",-1),Ze={class:"carousel"},et=["disabled"],tt=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[l("path",{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M17.9 23.2L6.1 12 17.9.8"})],-1),st=[tt],lt={key:0,class:"card"},ot=l("div",{class:"card__img"},[l("span",null,"Explore All")],-1),rt=["disabled"],it=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[l("path",{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M6.1 23.2L17.9 12 6.1.8"})],-1),nt=[it];function at(e,o,i,s,n,r){const p=q,c=Y;return d(),f("div",Ke,[i.title||i.viewAllUrl?(d(),f("div",Ge,[i.title?(d(),f("h2",Je,v(i.title),1)):m("",!0),i.viewAllUrl?(d(),k(p,{key:1,to:i.viewAllUrl,class:"listing__explore"},{default:B(()=>[Qe]),_:1},8,["to"])):m("",!0)])):m("",!0),l("div",Ze,[l("button",{class:"carousel__nav carousel__nav--left","aria-label":"Previous",type:"button",disabled:n.disableLeftButton,onClick:o[0]||(o[0]=_=>r.moveToClickEvent("left"))},st,8,et),l("div",{ref:"carouselElement",class:"carousel__items",onScroll:o[1]||(o[1]=(..._)=>r.scrollEvent&&r.scrollEvent(..._))},[(d(!0),f(oe,null,re(i.items,_=>(d(),k(c,{key:`card-${_.id}`,item:_},null,8,["item"]))),128)),i.viewAllUrl?(d(),f("div",lt,[M(p,{to:i.viewAllUrl,class:"card__link"},{default:B(()=>[ot]),_:1},8,["to"])])):m("",!0)],544),l("button",{class:"carousel__nav carousel__nav--right","aria-label":"Next",type:"button",disabled:n.disableRightButton,onClick:o[2]||(o[2]=_=>r.moveToClickEvent("right"))},nt,8,rt)])])}const ht=I(He,[["render",at]]);export{ft as _,ht as a,Ue as s};
