import w from"./TopNav.rB4pLzdO.js";import{_ as b,a as $}from"./ListingCarousel.QpOo1yOj.js";import{_ as p}from"./_plugin-vue_export-helper.x3n3nnut.js";import{o as s,c as r,F as v,k as y,n,t as m,a as o,h as l,g as h,d as R,l as E,m as z,v as A,j as H,r as V,f as D,b as O}from"./entry.vVFzJHlF.js";import{n as S,c as B,a as g,e as q,u as f,y as F,f as G}from"./Functions.G-etegh6.js";import{_ as M}from"./Credits.osdnRC4w.js";import"./nuxt-link.HmH_W_nj.js";import"./axios.dHanLt5T.js";const U="_nav_15ate_1",J="_button_15ate_14",K="_buttonActive_15ate_44",P={nav:U,button:J,buttonActive:K},Q={props:{menu:{type:Array,required:!0}},data(){return{active:0}},methods:{clicked(e,i){this.active=e,this.$emit("clicked",i.replace(/\s+/g,"-").toLowerCase())}}},W=["onClick"];function X(e,i,t,a,d,c){return s(),r("div",{class:n(e.$style.nav)},[(s(!0),r(v,null,y(t.menu,(_,u)=>(s(),r("button",{key:`tab-${u}`,class:n([e.$style.button,{[e.$style.buttonActive]:d.active===u}]),type:"button",onClick:k=>c.clicked(u,_)},m(_),11,W))),128))],2)}const Y={$style:P},T=p(Q,[["render",X],["__cssModules",Y]]),Z="_info_uljt1_2",x="_left_uljt1_7",ee="_right_uljt1_25",te="_poster_uljt1_30",se="_overview_uljt1_51",ie="_title_uljt1_63",ne="_stats_uljt1_75",oe="_label_uljt1_110",re="_value_uljt1_122",ae="_external_uljt1_126",le={info:Z,left:x,right:ee,poster:te,overview:se,title:ie,stats:ne,label:oe,value:re,external:ae},ce={mixins:[S,B],props:{item:{type:Object,required:!0}},computed:{poster(){return this.item.poster_path?`${g}/w370_and_h556_bestv2${this.item.poster_path}`:!1}},methods:{formatGenres(e){return e.map(i=>i.name).join(", ")},formatRunTime(e){return e.map(i=>`${i}m`).join(", ")},formatNetworks(e){return e.map(i=>i.name).join(", ")}}},de={class:"nolist"},ue={key:0},me={key:1},_e={key:2},he={key:3},ve=["innerHTML"],pe={key:4},ye=["innerHTML"],fe={key:5},ge={key:6},ke={key:7},we={key:8},be=["innerHTML"];function $e(e,i,t,a,d,c){return s(),r("div",{class:n(["spacing",e.$style.info])},[o("div",{class:n(e.$style.stats)},[o("ul",de,[t.item.first_air_date?(s(),r("li",ue,[o("div",{class:n(e.$style.label)},"First Aired",2),o("div",{class:n(e.$style.value)},m(t.item.first_air_date),3)])):l("",!0),t.item.last_air_date?(s(),r("li",me,[o("div",{class:n(e.$style.label)},"Last Aired",2),o("div",{class:n(e.$style.value)},m(t.item.last_air_date),3)])):l("",!0),t.item.episode_run_time&&t.item.episode_run_time.length?(s(),r("li",_e,[o("div",{class:n(e.$style.label)},"Runtime",2),o("div",{class:n(e.$style.value)},m(c.formatRunTime(t.item.episode_run_time)),3)])):l("",!0),e.creators?(s(),r("li",he,[o("div",{class:n(e.$style.label)},"Creator",2),o("div",{class:n(e.$style.value),innerHTML:e.creators},null,10,ve)])):l("",!0),t.item.genres&&t.item.genres.length?(s(),r("li",pe,[o("div",{class:n(e.$style.label)},"Genre",2),o("div",{class:n(e.$style.value),innerHTML:c.formatGenres(t.item.genres)},null,10,ye)])):l("",!0),t.item.number_of_seasons?(s(),r("li",fe,[o("div",{class:n(e.$style.label)},"Seasons",2),o("div",{class:n(e.$style.value)},m(t.item.number_of_seasons),3)])):l("",!0),t.item.number_of_episodes?(s(),r("li",ge,[o("div",{class:n(e.$style.label)},"Episodes",2),o("div",{class:n(e.$style.value)},m(t.item.number_of_episodes),3)])):l("",!0),t.item.status?(s(),r("li",ke,[o("div",{class:n(e.$style.label)},"Status",2),o("div",{class:n(e.$style.value)},m(t.item.status),3)])):l("",!0),t.item.networks&&t.item.networks.length?(s(),r("li",we,[o("div",{class:n(e.$style.label)},"Network",2),o("div",{class:n(e.$style.value),innerHTML:c.formatNetworks(t.item.networks)},null,10,be)])):l("",!0)])],2)],2)}const Ee={$style:le},C=p(ce,[["render",$e],["__cssModules",Ee]]),Se="_item_kuv2t_1",Me="_image_kuv2t_34",Te="_name_kuv2t_56",Ce="_overview_kuv2t_65",je="_aired_kuv2t_72",Ne={item:Se,image:Me,name:Te,overview:Ce,aired:je},Le={props:{episode:{type:Object,required:!0}},computed:{poster(){return this.episode.still_path?`${g}/w400${this.episode.still_path}`:null}},methods:{truncate(e,i){return e.length>i?e.substring(0,i)+"...":e}}},Ie={key:1},Re=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#999"},[o("path",{d:"M24 22h-24v-20h24v20zm-1-19h-22v18h22v-18zm-1 16h-19l4-7.492 3 3.048 5.013-7.556 6.987 12zm-11.848-2.865l-2.91-2.956-2.574 4.821h15.593l-5.303-9.108-4.806 7.243zm-4.652-11.135c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5zm0 1c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5.672-1.5 1.5-1.5z"})],-1),ze=[Re];function Ae(e,i,t,a,d,c){const _=q;return s(),r("div",{class:n(e.$style.item)},[o("div",{class:n(e.$style.image)},[c.poster?(s(),h(_,{key:0,src:c.poster,loading:"lazy",alt:t.episode.name},null,8,["src","alt"])):(s(),r("span",Ie,ze))],2),o("h2",{class:n(e.$style.name)},[o("strong",null,"E"+m(t.episode.episode_number),1),R(" "+m(t.episode.name),1)],2),o("div",{class:n(e.$style.overview)},m(c.truncate(t.episode.overview,300)),3),t.episode.air_date?(s(),r("div",{key:0,class:n(e.$style.aired)},m(t.episode.air_date),3)):l("",!0)],2)}const He={$style:Ne},Ve=p(Le,[["render",Ae],["__cssModules",He]]),De="_head_11yay_1",Oe="_count_11yay_15",Be="_items_11yay_26",qe={head:De,count:Oe,items:Be},Fe={components:{EpisodesItem:Ve},props:{numberOfSeasons:{type:Number,required:!0},tvShowId:{type:Number,required:!0}},data(){return{activeSeason:this.numberOfSeasons,activeEpisodes:null}},computed:{episodeCount(){return`${this.activeEpisodes.length} ${this.activeEpisodes.length>1?"Episodes":"Episode"}`},seasons(){const e=[];for(let i=0;i<this.numberOfSeasons;i++)e.push({season:i+1,episodes:null});return e.sort((i,t)=>i.season>t.season?-1:1),e}},mounted(){this.getEpisodes(this.tvShowId)},methods:{async getEpisodes(e){const i=f(),t=this.seasons.find(a=>a.season===this.activeSeason);if(t.episodes)this.activeEpisodes=t.episodes;else try{const a=await i.getTvShowEpisodes({tv_show_id:e,season:this.activeSeason});t.episodes=a.data.episodes,this.activeEpisodes=t.episodes}catch(a){console.error("Error fetching episodes:",a)}}}},Ge={class:"spacing"},Ue=["value"];function Je(e,i,t,a,d,c){const _=E("EpisodesItem");return s(),r("div",Ge,[o("div",{class:n(e.$style.head)},[c.seasons.length>1?z((s(),r("select",{key:0,"onUpdate:modelValue":i[0]||(i[0]=u=>d.activeSeason=u),onChange:i[1]||(i[1]=u=>c.getEpisodes(this.tvShowId))},[(s(!0),r(v,null,y(c.seasons,u=>(s(),r("option",{key:`season-${u.season}`,value:u.season}," Season "+m(u.season),9,Ue))),128))],544)),[[A,d.activeSeason]]):l("",!0),d.activeEpisodes?(s(),r("strong",{key:1,class:n(e.$style.count)},m(c.episodeCount),3)):l("",!0)],2),d.activeEpisodes?(s(),r("div",{key:0,class:n(e.$style.items)},[(s(!0),r(v,null,y(d.activeEpisodes,u=>(s(),h(_,{key:`episode-${u.id}`,episode:u},null,8,["episode"]))),128))],2)):l("",!0)])}const Ke={$style:qe},Pe=p(Fe,[["render",Je],["__cssModules",Ke]]);var Qe={};const We={components:{TopNav:w,Hero:b,MediaNav:T,TvShowInfo:C,Credits:M,Episodes:Pe,ListingCarousel:$},mixins:[S,F,G],data(){return{menu:[],activeMenu:"overview",recommended:null}},setup(){const e=f(),i=H(),t=V(null);return D(async()=>{try{const a=await e.getTvShow(i.params.id);t.value=a.data}catch(a){console.error({status:a.code,error:a.message})}}),{item:t}},computed:{metaTitle(){return this.item?this.item.status==="Ended"&&this.yearStart&&this.yearEnd?`${this.name} (TV Series ${this.yearStart}-${this.yearEnd})`:this.yearStart?`${this.name} (TV Series ${this.yearStart}-)`:`${this.name} (TV Series)`:""},metaDescription(){return this.item&&this.item.overview?this.truncate(this.item.overview,200):""},metaImage(){return this.item&&this.item.poster_path?`${g}/w500${this.item.poster_path}`:""},showCredits(){const e=this.item&&this.item.credits;return e&&e.cast&&e.cast.length},showEpisodes(){return this.item&&this.item.number_of_seasons>0}},head(){return{title:this.metaTitle,meta:[{hid:"og:title",property:"og:title",content:this.metaTitle},{hid:"og:description",property:"og:description",content:this.metaDescription},{hid:"description",name:"description",content:this.metaDescription},{hid:"og:image",property:"og:image",content:this.metaImage},{hid:"og:url",property:"og:url",content:`${Qe.FRONTEND_URL}${this.$route.path}`}],bodyAttrs:{class:"topnav-active"}}},created(){this.createMenu(),this.initRecommended()},methods:{truncate(e,i){return this.$options.filters.truncate(e,i)},createMenu(){const e=[];e.push("Overview"),this.showEpisodes||e.push("Episodes"),this.menu=e},navClicked(e){this.activeMenu=e},initRecommended(){this.recommended||f().getTvsShowRecommended({tv_show_id:this.$route.params.id}).then(i=>{this.recommended=i.data})}}},Xe={class:"main"};function Ye(e,i,t,a,d,c){const _=w,u=b,k=T,j=C,N=M,L=E("Episodes"),I=$;return s(),r("main",Xe,[a.item?(s(),h(_,{key:0,title:c.metaTitle},null,8,["title"])):l("",!0),a.item?(s(),h(u,{key:1,item:a.item},null,8,["item"])):l("",!0),O(k,{menu:d.menu,onClicked:c.navClicked},null,8,["menu","onClicked"]),d.activeMenu==="overview"?(s(),r(v,{key:2},[a.item?(s(),h(j,{key:0,item:a.item},null,8,["item"])):l("",!0),a.item&&c.showCredits?(s(),h(N,{key:1,people:a.item.credits.cast},null,8,["people"])):l("",!0)],64)):l("",!0),d.activeMenu==="episodes"&&c.showEpisodes?(s(),r(v,{key:3},[a.item?(s(),h(L,{key:0,"tv-show-id":a.item.id,"number-of-seasons":a.item.number_of_seasons},null,8,["tv-show-id","number-of-seasons"])):l("",!0)],64)):l("",!0),d.recommended&&d.recommended.length?(s(),h(I,{key:4,title:"More Like This",items:d.recommended},null,8,["items"])):l("",!0)])}const rt=p(We,[["render",Ye]]);export{rt as default};
