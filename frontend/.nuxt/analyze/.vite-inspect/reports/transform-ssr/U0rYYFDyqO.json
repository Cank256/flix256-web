{
  "resolvedId": "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue?vue&type=style&index=0&lang.scss?inline&used",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "\n@import \"~/assets/css/utilities/_variables.scss\";\n\n.page-search .main {\n\tpadding-top: 6rem;\n\n\t@media (min-width: $breakpoint-large) {\n\t\tpadding-top: 8rem;\n\t}\n}\n",
      "start": 1708426968184,
      "end": 1708426968184,
      "sourcemaps": {
        "version": 3,
        "sources": [
          "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue"
        ],
        "names": [],
        "mappings": ";AAwIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEhD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;CAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;CAEjB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CAClB;AACD",
        "file": "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue",
        "sourceRoot": "",
        "sourcesContent": [
          "<template>\n\t<main class=\"main\">\n\t\t<SearchResults\n\t\t\tv-if=\"items && items.results.length\"\n\t\t\t:title=\"title\"\n\t\t\t:items=\"items\"\n\t\t\t:loading=\"loading\"\n\t\t\t@loadMore=\"loadMore\"\n\t\t/>\n\t</main>\n</template>\n\n<script>\nimport { useRoute } from \"vue-router\";\nimport { useBackendStore } from \"~/store/backend\";\nimport SearchResults from \"~/components/search/SearchResults\";\nlet fromPage = \"/\";\n\nexport default {\n\tcomponents: {\n\t\tSearchResults,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t};\n\t},\n\n\thead() {\n\t\treturn {\n\t\t\ttitle: \"Search\",\n\t\t\tmeta: [\n\t\t\t\t{ hid: \"og:title\", property: \"og:title\", content: \"Search\" },\n\t\t\t\t{\n\t\t\t\t\thid: \"og:url\",\n\t\t\t\t\tproperty: \"og:url\",\n\t\t\t\t\tcontent: `${process.env.FRONTEND_URL}${this.$route.path}`,\n\t\t\t\t},\n\t\t\t],\n\t\t\tbodyAttrs: {\n\t\t\t\tclass: \"page page-search\",\n\t\t\t},\n\t\t};\n\t},\n\n\tcomputed: {\n\t\tquery() {\n\t\t\treturn this.$route.query.q ? this.$route.query.q : \"\";\n\t\t},\n\n\t\ttitle() {\n\t\t\treturn this.query ? `Results For: ${this.query}` : \"\";\n\t\t},\n\t},\n\n\tsetup() {\n\t\tconst store = useBackendStore();\n        const route = useRoute();\n\t\tconst items = ref(null);\n\n\t\tonMounted(async () => {\n\t\t\ttry {\n                if (route.query.q) {\n                    const itemData = await store.search({query:  route.query.q, page: 1});\n                    items.value = itemData.data;\n                } else {\n                    redirect(\"/\");\n                }\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error({ status: error.code, error: error.message });\n\t\t\t}\n\t\t});\n\n\t\treturn { items };\n\t},\n\n\tbeforeRouteEnter(to, from, next) {\n\t\tfromPage = from.path;\n\t\tnext();\n\t},\n\n\tbeforeRouteUpdate(to, from, next) {\n\t\tnext();\n\t\tthis.getResults();\n\t},\n\n\tbeforeRouteLeave(to, from, next) {\n\t\tconst search = document.getElementById(\"search\");\n\n\t\tnext();\n\n\t\tif (search && search.value.length) {\n\t\t\tthis.$store.commit(\"search/closeSearch\");\n\t\t}\n\t},\n\n\tmethods: {\n\t\tasync getResults() {\n\t\t\t// if no search query\n\t\t\tif (!this.query.length) {\n\t\t\t\tthis.items = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// trigger ajax call;\n\t\t\tconst response = await useBackendStore().search({query: this.query});\n\n\t\t\t// if no results, do nothing\n\t\t\tif (!response.data.total_results) {\n\t\t\t\tthis.items = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// update the items\n\t\t\tthis.items = response.data;\n\t\t},\n\n\t\tloadMore() {\n\t\t\tthis.loading = true;\n\n\t\t\tuseBackendStore().search({query: this.query, page: this.items.page + 1})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.items.results = this.items.results.concat(response.data.results);\n\t\t\t\t\tthis.items.page = response.data.page;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import \"~/assets/css/utilities/_variables.scss\";\n\n.page-search .main {\n\tpadding-top: 6rem;\n\n\t@media (min-width: $breakpoint-large) {\n\t\tpadding-top: 8rem;\n\t}\n}\n</style>\n"
        ]
      }
    },
    {
      "name": "nuxt:layer-aliasing",
      "start": 1708426968184,
      "end": 1708426968184,
      "order": "pre"
    },
    {
      "name": "nuxt:layer-aliasing",
      "start": 1708426968184,
      "end": 1708426968184,
      "order": "pre"
    },
    {
      "name": "nuxt:server-devonly:transform",
      "start": 1708426968184,
      "end": 1708426968184,
      "order": "pre"
    },
    {
      "name": "nuxt:server-devonly:transform",
      "start": 1708426968184,
      "end": 1708426968184,
      "order": "pre"
    },
    {
      "name": "nuxt:client-fallback-auto-id",
      "start": 1708426968184,
      "end": 1708426968184,
      "order": "pre"
    },
    {
      "name": "vite:css",
      "result": ".page-search .main{padding-top:6rem}@media (min-width:1200px){.page-search .main{padding-top:8rem}}",
      "start": 1708426968184,
      "end": 1708426968394,
      "order": "normal",
      "sourcemaps": {
        "version": 3,
        "file": "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue",
        "mappings": "AAGA,mBACC,iBAEA,0BAHD,mBAIE",
        "names": [],
        "sources": [
          "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue"
        ],
        "sourcesContent": [
          null
        ]
      }
    },
    {
      "name": "vite:esbuild",
      "start": 1708426968397,
      "end": 1708426968397,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1708426968400,
      "end": 1708426968400,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1708426968401,
      "end": 1708426968401,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": ".page-search .main{padding-top:6rem}@media (min-width:1200px){.page-search .main{padding-top:8rem}}",
      "start": 1708426968401,
      "end": 1708426968401,
      "order": "normal",
      "sourcemaps": {
        "file": "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue",
        "mappings": "AAAA,mBAAmB,gBAAgB,CAAC,0BAA0B,mBAAmB,gBAAgB,CAAC",
        "names": [],
        "sources": [
          "/Users/caleb/Dev/ALX/Portifolio Project/source/flix256-web/frontend/pages/search/index.vue"
        ],
        "sourcesContent": [
          null
        ],
        "version": 3
      }
    },
    {
      "name": "vite:vue-jsx",
      "start": 1708426968402,
      "end": 1708426968402,
      "order": "normal"
    },
    {
      "name": "replace",
      "start": 1708426968403,
      "end": 1708426968403,
      "order": "normal"
    },
    {
      "name": "replace",
      "start": 1708426968403,
      "end": 1708426968403,
      "order": "normal"
    },
    {
      "name": "nuxt:remove-plugin-metadata",
      "start": 1708426968405,
      "end": 1708426968405,
      "order": "normal"
    },
    {
      "name": "nuxt:remove-plugin-metadata",
      "start": 1708426968405,
      "end": 1708426968405,
      "order": "normal"
    },
    {
      "name": "nuxt:components:imports",
      "start": 1708426968405,
      "end": 1708426968405,
      "order": "normal"
    },
    {
      "name": "replace",
      "start": 1708426968405,
      "end": 1708426968405,
      "order": "normal"
    },
    {
      "name": "ssr-styles",
      "start": 1708426968405,
      "end": 1708426968405,
      "order": "normal"
    },
    {
      "name": "vite:define",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "result": "export default \".page-search .main{padding-top:6rem}@media (min-width:1200px){.page-search .main{padding-top:8rem}}\"",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:build-html",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "normal"
    },
    {
      "name": "nuxt:composable-keys",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "nuxt:composable-keys",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "nuxt:imports-transform",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "nuxt:imports-transform",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "unctx:transform",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "unctx:transform",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "nuxt:pages-macros-transform",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "nuxt:pages-macros-transform",
      "start": 1708426968406,
      "end": 1708426968406,
      "order": "post"
    },
    {
      "name": "nuxt:tree-shake-template",
      "start": 1708426968407,
      "end": 1708426968407,
      "order": "post"
    },
    {
      "name": "nuxt:components-loader",
      "start": 1708426968407,
      "end": 1708426968407,
      "order": "post"
    },
    {
      "name": "nuxt:tree-shake-composables:transform",
      "start": 1708426968407,
      "end": 1708426968407,
      "order": "post"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1708426968407,
      "end": 1708426968407,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1708426968407,
      "end": 1708426968407,
      "order": "normal"
    }
  ]
}
