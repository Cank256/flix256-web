import{a as f,e as v,b as p}from"./Functions.G-etegh6.js";import{_ as b}from"./nuxt-link.HmH_W_nj.js";import{_}from"./_plugin-vue_export-helper.x3n3nnut.js";import{o as c,c as h,b as g,w,a as t,g as m,t as d,F as k,k as E,h as x}from"./entry.vVFzJHlF.js";import{s as W}from"./ListingCarousel.QpOo1yOj.js";const $={props:{person:{type:Object,required:!0}},computed:{poster(){return this.person.profile_path?`${f}/w370_and_h556_bestv2${this.person.profile_path}`:null}}},B={class:"credits-item"},y={class:"credits-item__img"},L={key:1},z=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",fill:"#999"},[t("path",{d:"M24 22h-24v-20h24v20zm-1-19h-22v18h22v-18zm-1 16h-19l4-7.492 3 3.048 5.013-7.556 6.987 12zm-11.848-2.865l-2.91-2.956-2.574 4.821h15.593l-5.303-9.108-4.806 7.243zm-4.652-11.135c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5zm0 1c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5.672-1.5 1.5-1.5z"})],-1),C=[z],T={class:"credits-item__name"},S={class:"credits-item__character"};function V(i,e,s,a,l,o){const r=v,n=b;return c(),h("div",B,[g(n,{class:"credits-item__link"},{default:w(()=>[t("div",y,[o.poster?(c(),m(r,{key:0,src:o.poster,loading:"lazy",alt:s.person.name,width:"100%",height:"auto"},null,8,["src","alt"])):(c(),h("span",L,C))]),t("h2",T,d(s.person.name),1),t("div",S,d(s.person.character),1)]),_:1})])}const u=_($,[["render",V]]),N={components:{CreditsItem:u},data(){return{elementWidth:0,carouselWidth:0,visibleWidth:0,maximumPosition:0,unusableVisibleWidth:0,disableLeftButton:!0,disableRightButton:!1}},props:{people:{type:Array,required:!0}},mounted(){W.polyfill(),window.addEventListener("resize",this.resizeEvent),this.calculateState(this.people.length)},beforeDestroy(){window.removeEventListener("resize",this.resizeEvent)},constructor(){this.$refs={carouselElement:document.createElement("div")}},methods:{calculateState(i){if(!(this.$refs.carouselElement instanceof HTMLElement))return;let e=72;const s=this.$refs.carouselElement.querySelector(":first-child"),a=s?s.getBoundingClientRect().width:0,l=i*a,o=this.$refs.carouselElement.scrollWidth;window.innerWidth>=1200&&(e=92);const r=this.$refs.carouselElement.offsetWidth-e;this.unusableVisibleWidth=e,this.elementWidth=a,this.carouselWidth=l,this.visibleWidth=r,this.maximumPosition=o,this.disableLeftButton=!this.$refs.carouselElement.scrollLeft,this.disableRightButton=r>=l},moveTo(i){this.$refs.carouselElement.scrollTo({left:i,behavior:"smooth"})},moveToClickEvent(i="left"|"right"){const e=this.$refs.carouselElement.scrollLeft+(i==="left"?-this.visibleWidth+1:this.visibleWidth),s=e-e%this.elementWidth;this.moveTo(s)},scrollEvent(){const i=this.$refs.carouselElement.scrollLeft,e=this.maximumPosition-this.visibleWidth-this.elementWidth;this.disableLeftButton=i<3,this.disableRightButton=i>e},resizeEvent:p(function(){this.calculateState(this.people.length)},100)}},P={key:0,class:"listing listing--carousel"},R=t("div",{class:"listing__head"},[t("h2",{class:"listing__title"},"Cast")],-1),I={class:"carousel"},M=["disabled"],j=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M17.9 23.2L6.1 12 17.9.8"})],-1),q=[j],D=["disabled"],F=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M6.1 23.2L17.9 12 6.1.8"})],-1),A=[F];function H(i,e,s,a,l,o){const r=u;return s.people&&s.people.length?(c(),h("div",P,[R,t("div",I,[t("button",{class:"carousel__nav carousel__nav--left","aria-label":"Previous",type:"button",disabled:l.disableLeftButton,onClick:e[0]||(e[0]=n=>o.moveToClickEvent("left"))},q,8,M),t("div",{ref:"carouselElement",class:"carousel__items",onScroll:e[1]||(e[1]=(...n)=>o.scrollEvent&&o.scrollEvent(...n))},[(c(!0),h(k,null,E(s.people,n=>(c(),m(r,{key:`credit-${n.id}`,person:n},null,8,["person"]))),128))],544),t("button",{class:"carousel__nav carousel__nav--right","aria-label":"Next",type:"button",disabled:l.disableRightButton,onClick:e[2]||(e[2]=n=>o.moveToClickEvent("right"))},A,8,D)])])):x("",!0)}const Q=_(N,[["render",H]]);export{Q as _};
