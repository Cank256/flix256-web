import c from"./TopNav.rB4pLzdO.js";import{_ as l}from"./Listing.LtMO4-8Q.js";import{j as d,r as _,c as p,b as u,g,h as f,o as s}from"./entry.vVFzJHlF.js";import{u as i}from"./Functions.G-etegh6.js";import{_ as v}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./nuxt-link.HmH_W_nj.js";import"./axios.dHanLt5T.js";var w={};const S={components:{TopNav:c,Listing:l},data(){return{loading:!1}},setup(){const o=i(),e=d(),n=_(null),t=o.getListItem("tv",e.params.name).title;async function r(){try{const a=await o.getTvShows(e.params.name);n.value=a.data}catch(a){console.error("There was an error in fetching data",a)}}return r(),{tvShowData:n,title:t}},head(){return{title:this.title,meta:[{hid:"og:title",property:"og:title",content:this.title},{hid:"og:url",property:"og:url",content:`${w.FRONTEND_URL}${this.$route.path}`}],bodyAttrs:{class:"topnav-active"}}},methods:{loadMore(){const o=i();this.loading=!0,o.getTvShows(this.$route.params.name,{page:this.tvShowData.page+1}).then(e=>{this.tvShowData.results=this.tvShowData.results.concat(e.data.results),this.tvShowData.page=e.data.page,this.loading=!1}).catch(()=>{this.loading=!1})}}},D={class:"main"};function y(o,e,n,t,r,a){const h=c,m=l;return s(),p("main",D,[u(h,{title:t.title},null,8,["title"]),t.tvShowData&&t.tvShowData.results.length?(s(),g(m,{key:0,title:t.title,items:t.tvShowData,loading:r.loading,onLoadMore:a.loadMore},null,8,["title","items","loading","onLoadMore"])):f("",!0)])}const R=v(S,[["render",y]]);export{R as default};
