{"version":3,"file":"index-yX4AC8Vk.js","sources":["../../../../pages/movie/index.vue"],"sourcesContent":["<template>\n\t<main class=\"main\">\n\t\t<Hero v-if=\"featuredItem\" :item=\"featuredItem\" id=\"hero\" />\n\n\t\t<ListingCarousel\n\t\t\tv-if=\"upcomingMovies && upcomingMovies.length\"\n\t\t\t:title=\"upcomingMoviesTitle\"\n\t\t\t:view-all-url=\"upcomingUrl\"\n\t\t\t:items=\"upcomingMovies\"\n\t\t/>\n\n\t\t<ListingCarousel\n\t\t\tv-if=\"nowPlayingMovies && nowPlayingMovies.length\"\n\t\t\t:title=\"nowPlayingMoviesTitle\"\n\t\t\t:view-all-url=\"nowPlayingUrl\"\n\t\t\t:items=\"nowPlayingMovies\"\n\t\t/>\n\n        <ListingCarousel\n            v-if=\"popularMovies && popularMovies.length\"\n            :title=\"popularMoviesTitle\"\n            :view-all-url=\"popularUrl\"\n            :items=\"popularMovies\"\n        />\n\n        <ListingCarousel\n            v-if=\"topRatedMovies && topRatedMovies.length\"\n            :title=\"topRatedMoviesTitle\"\n            :view-all-url=\"topRatedUrl\"\n            :items=\"topRatedMovies\"\n        />\n\t</main>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport Hero from \"~/components/Hero\";\nimport ListingCarousel from \"~/components/ListingCarousel\";\nimport { useBackendStore } from \"~/store/backend\";\n\nexport default {\n\tcomponents: {\n\t\tHero,\n\t\tListingCarousel,\n\t},\n\n\thead() {\n\t\treturn {\n\t\t\ttitle: \"Movies\",\n\t\t\tmeta: [\n\t\t\t\t{ hid: \"og:title\", property: \"og:title\", content: \"Movies\" },\n\t\t\t\t{\n\t\t\t\t\thid: \"og:url\",\n\t\t\t\t\tproperty: \"og:url\",\n\t\t\t\t\tcontent: `${process.env.FRONTEND_URL}${this.$route.path}`,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t},\n\n\tsetup() {\n\t\tconst store = useBackendStore();\n\n\t\tconst upcomingMovies = ref(null);\n\t\tconst nowPlayingMovies = ref(null);\n\t\tconst popularMovies = ref(null);\n\t\tconst topRatedMovies = ref(null);\n\t\tconst featuredItem = ref(null);\n\n\t\tconst upcomingMoviesTitle = store.getListItem('movie', 'upcoming').title;\n\t\tconst nowPlayingMoviesTitle = store.getListItem('movie', 'now_playing').title;\n\t\tconst popularMoviesTitle = store.getListItem('movie', 'popular').title;\n\t\tconst topRatedMoviesTitle = store.getListItem('movie', 'top_rated').title;\n\n\t\tasync function fetchData() {\n\t\t\ttry {\n                const upcoming = await store.getMovies(\"upcoming\");\n                const nowPlaying = await store.getMovies(\"now_playing\");\n                const popular = await store.getMovies(\"popular\");\n                const topRated = await store.getMovies(\"top_rated\");\n                \n                const items = [...upcoming.data.results, ...nowPlaying.data.results];\n                const randomItem = items[Math.floor(Math.random() * items.length)];\n                const featured = await store.getMovie(randomItem.id);\n\n                upcomingMovies.value = upcoming.data.results;\n                nowPlayingMovies.value = nowPlaying.data.results;\n                popularMovies.value = popular.data.results;\n                topRatedMovies.value = topRated.data.results;\n                featuredItem.value = featured.data;\n\n            } catch(error) {\n                console.error({ statusCode:  error.code, error: error.message });\n            }\n\t\t}\n\n\t\tfetchData();\n\n        return { \n            upcomingMovies,\n            nowPlayingMovies,\n            popularMovies,\n            topRatedMovies,\n            featuredItem,\n            upcomingMoviesTitle,\n            nowPlayingMoviesTitle,\n            popularMoviesTitle,\n            topRatedMoviesTitle\n        };\n\t},\n\n\tcomputed: {\n\n        upcomingUrl() {\n            return { name: \"movie-category-name\", params: { name: \"upcoming\" } };\n\t\t},\n        \n\t\tnowPlayingUrl() {\n            return { name: \"movie-category-name\", params: { name: \"now_playing\" } };\n\t\t},\n\n        popularUrl() {\n        \treturn { name: \"movie-category-name\", params: { name: \"popular\" } };\n        },\n\n        topRatedUrl() {\n        \treturn { name: \"movie-category-name\", params: { name: \"top_rated\" } };\n        },\n\t},\n};\n</script>\n"],"names":["Hero","ListingCarousel","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent"],"mappings":"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"}