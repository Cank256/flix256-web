{"version":3,"file":"Listing-IgbBrenQ.js","sources":["../../../../components/Listing.vue"],"sourcesContent":["<template>\n\t<div class=\"listing\">\n\t\t<div v-if=\"title || viewAllUrl\" class=\"listing__head\">\n\t\t\t<h2 v-if=\"title\" class=\"listing__title\">\n\t\t\t\t{{ title }}\n\t\t\t</h2>\n\n\t\t\t<nuxt-link v-if=\"viewAllUrl\" :to=\"viewAllUrl\" class=\"listing__explore\">\n\t\t\t\t<strong>Explore All</strong>\n\t\t\t</nuxt-link>\n\t\t</div>\n\n\t\t<div class=\"listing__items\">\n\t\t\t<Card\n\t\t\t\tv-for=\"item in items.results\"\n\t\t\t\t:key=\"`card-${item.id}`\"\n\t\t\t\t:item=\"item\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div v-if=\"items.page < items.total_pages\" class=\"listing__nav\">\n\t\t\t<div v-if=\"loading\">\n\t\t\t\t<!-- eslint-disable-next-line -->\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"44\"\n\t\t\t\t\theight=\"44\"\n\t\t\t\t\tviewBox=\"0 0 44 44\"\n\t\t\t\t\tstroke=\"#2196f3\"\n\t\t\t\t>\n\t\t\t\t\t<g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\">\n\t\t\t\t\t\t<circle cx=\"22\" cy=\"22\" r=\"1\">\n\t\t\t\t\t\t\t<animate\n\t\t\t\t\t\t\t\tattributeName=\"r\"\n\t\t\t\t\t\t\t\tbegin=\"0s\"\n\t\t\t\t\t\t\t\tdur=\"1.8s\"\n\t\t\t\t\t\t\t\tvalues=\"1; 20\"\n\t\t\t\t\t\t\t\tcalcMode=\"spline\"\n\t\t\t\t\t\t\t\tkeyTimes=\"0; 1\"\n\t\t\t\t\t\t\t\tkeySplines=\"0.165, 0.84, 0.44, 1\"\n\t\t\t\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<animate\n\t\t\t\t\t\t\t\tattributeName=\"stroke-opacity\"\n\t\t\t\t\t\t\t\tbegin=\"0s\"\n\t\t\t\t\t\t\t\tdur=\"1.8s\"\n\t\t\t\t\t\t\t\tvalues=\"1; 0\"\n\t\t\t\t\t\t\t\tcalcMode=\"spline\"\n\t\t\t\t\t\t\t\tkeyTimes=\"0; 1\"\n\t\t\t\t\t\t\t\tkeySplines=\"0.3, 0.61, 0.355, 1\"\n\t\t\t\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</circle>\n\t\t\t\t\t\t<circle cx=\"22\" cy=\"22\" r=\"1\">\n\t\t\t\t\t\t\t<animate\n\t\t\t\t\t\t\t\tattributeName=\"r\"\n\t\t\t\t\t\t\t\tbegin=\"-0.9s\"\n\t\t\t\t\t\t\t\tdur=\"1.8s\"\n\t\t\t\t\t\t\t\tvalues=\"1; 20\"\n\t\t\t\t\t\t\t\tcalcMode=\"spline\"\n\t\t\t\t\t\t\t\tkeyTimes=\"0; 1\"\n\t\t\t\t\t\t\t\tkeySplines=\"0.165, 0.84, 0.44, 1\"\n\t\t\t\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<animate\n\t\t\t\t\t\t\t\tattributeName=\"stroke-opacity\"\n\t\t\t\t\t\t\t\tbegin=\"-0.9s\"\n\t\t\t\t\t\t\t\tdur=\"1.8s\"\n\t\t\t\t\t\t\t\tvalues=\"1; 0\"\n\t\t\t\t\t\t\t\tcalcMode=\"spline\"\n\t\t\t\t\t\t\t\tkeyTimes=\"0; 1\"\n\t\t\t\t\t\t\t\tkeySplines=\"0.3, 0.61, 0.355, 1\"\n\t\t\t\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</circle>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { debounce } from \"~/mixins/Functions\";\nimport Card from \"~/components/Card\";\n\nexport default {\n\tcomponents: {\n\t\tCard,\n\t},\n\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"\",\n\t\t},\n\n\t\tviewAllUrl: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: function () {\n\t\t\t\treturn null;\n\t\t\t},\n\t\t},\n\n\t\titems: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\n\t\tshow: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tcreated() {\n\t\t// if show exists, limit the results\n\t\tif (this.show) {\n\t\t\tthis.items.results = this.items.results.splice(0, this.show);\n\t\t\tthis.items.total_pages = 1;\n\t\t\tthis.items.total_results = this.show;\n\t\t}\n\t},\n\n\tmounted() {\n\t\twindow.addEventListener(\"scroll\", this.getScrollPosition);\n\t},\n\n\tbeforeDestroy() {\n\t\twindow.removeEventListener(\"scroll\", this.getScrollPosition);\n\t},\n\n\tmethods: {\n\t\tgetScrollPosition: debounce(function () {\n\t\t\tif (this.items.page < this.items.total_pages) {\n\t\t\t\tconst bottomOfWindow =\n\t\t\t\t\twindow.innerHeight + window.pageYOffset >=\n\t\t\t\t\tdocument.body.offsetHeight - 600;\n\t\t\t\tif (bottomOfWindow && !this.loading) this.loadMore();\n\t\t\t} else {\n\t\t\t\t// remove scroll event, no more pages to load\n\t\t\t\twindow.removeEventListener(\"scroll\", this.getScrollPosition);\n\t\t\t}\n\t\t}, 50),\n\n\t\tloadMore() {\n\t\t\tthis.$emit(\"loadMore\");\n\t\t},\n\t},\n};\n</script>\n"],"names":["Card","_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderComponent","_withCtx","_push","_parent","_createVNode","_ssrRenderList"],"mappings":";;;;;AAsFA,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IAAA,MACXA;AAAAA,EACD;AAAA,EAEA,OAAO;AAAA,IACN,OAAO;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IACV;AAAA,IAEA,YAAY;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS,WAAY;AACb,eAAA;AAAA,MACR;AAAA,IACD;AAAA,IAEA,OAAO;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IACX;AAAA,IAEA,MAAM;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IACV;AAAA,IAEA,SAAS;AAAA,MACR,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,IACV;AAAA,EACD;AAAA,EAEA,UAAU;AAET,QAAI,KAAK,MAAM;AACT,WAAA,MAAM,UAAU,KAAK,MAAM,QAAQ,OAAO,GAAG,KAAK,IAAI;AAC3D,WAAK,MAAM,cAAc;AACpB,WAAA,MAAM,gBAAgB,KAAK;AAAA,IACjC;AAAA,EACD;AAAA,EAEA,UAAU;AACF,IAAA,SAAA,iBAAiB,UAAU,KAAK,iBAAiB;AAAA,EACzD;AAAA,EAEA,gBAAgB;AACR,IAAA,SAAA,oBAAoB,UAAU,KAAK,iBAAiB;AAAA,EAC5D;AAAA,EAEA,SAAS;AAAA,IACR,mBAAmB,SAAS,WAAY;AACvC,UAAI,KAAK,MAAM,OAAO,KAAK,MAAM,aAAa;AAC7C,cAAM,iBACE,SAAA,uBAAqB,eAC5B,SAAS,KAAK,eAAe;AAC1B,YAAA,kBAAkB,CAAC,KAAK;AAAS,eAAK,SAAS;AAAA,MAAA,OAC7C;AAEC,QAAA,SAAA,oBAAoB,UAAU,KAAK,iBAAiB;AAAA,MAC5D;AAAA,OACE,EAAE;AAAA,IAEL,WAAW;AACV,WAAK,MAAM,UAAU;AAAA,IACtB;AAAA,EACD;AACD;;;;AA9JA,QAAA,OAAAC,eAAAC,WAAA,EACM,OAAM,aADZ,MAAA,CAAA,CAAA,GAAA;AAEa,MAAA,OAAA,SAAS,OAAU,YAAA;AAFhC,UAAA,6BAAA;QAGa,OAAK,OAAA;AAHlB,YAAA,8BAAAC,eAIO,OAAK,KAAA,CAAA,OAAA;AAAA,IAAA;AAJZ,YAAA,SAAA;AAAA;QAOoB,OAAU,YAAA;AAP9B,YAAAC,mBAAA,sBAAA;AAAA,QAOiC,IAAI,OAAU;AAAA,QAAE,OAAM;AAAA,MAAA;QAPvD,SAAAC,QAOG,CAEY,GAAAC,QAAAC,UAAA,aAAA;AATf,cAAAD,QAAA;AAAAA,mBAAA,UAAA,QAAA,uBAAA;AAAA,UAAA;;cAQIE,YAA4B,gBAApB,aAAW;AAAA,YAAA;AAAA;;QARvB,GAAA;AAAA,MAAA;;AAAA,YAAA,SAAA;AAAA;AAAA,UAAA,QAAA;AAAA,EAAA;AAAA,UAAA,SAAA;AAAA;AAAA,QAAA,sCAAA;AAAAC,gBAcmB,OAAK,MAAC,SAdzB,CAcW,SAAI;AAdf,UAAAL,mBAAA,iBAAA;AAAA,MAeK,KAAG,QAAU,KAAK,EAAE;AAAA,MACpB;AAAA,IAAA;;AAhBL,QAAA,gBAAA;AAoBa,MAAA,OAAA,MAAM,OAAO,OAAA,MAAM,aAAW;AApB3C,UAAA,4BAAA;QAqBc,OAAO,SAAA;AArBrB,YAAA,q7BAAA;AAAA,IAAA;AAAA,YAAA,SAAA;AAAA;AAAA,UAAA,QAAA;AAAA,EAAA;AAAA,UAAA,SAAA;AAAA;AAAA,QAAA,QAAA;;;;;;;;;"}