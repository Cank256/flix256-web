{"version":3,"file":"index-VU57ixJX.js","sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\n\t<main class=\"main\">\n\t\t<Hero v-if=\"featuredItem\" :item=\"featuredItem\" id=\"hero\" />\n\n\t\t<ListingCarousel\n\t\t\tv-if=\"trendingMovies && trendingMovies.length\"\n\t\t\t:title=\"trendingMoviesTitle\"\n\t\t\t:view-all-url=\"trendingMoviesUrl\"\n\t\t\t:items=\"trendingMovies\"\n\t\t/>\n\n\t\t<ListingCarousel\n\t\t\tv-if=\"trendingTv && trendingTv.length\"\n\t\t\t:title=\"trendingTvTitle\"\n\t\t\t:view-all-url=\"trendingTvUrl\"\n\t\t\t:items=\"trendingTv\"\n\t\t/>\n\t</main>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport Hero from \"~/components/Hero\";\nimport ListingCarousel from \"~/components/ListingCarousel\";\nimport { useBackendStore } from \"~/store/backend\";\n\nexport default {\n\tcomponents: {\n\t\tHero,\n\t\tListingCarousel,\n\t},\n\n\tsetup() {\n\t\tconst store = useBackendStore();\n\n\t\tconst trendingMovies = ref(null);\n\t\tconst trendingTv = ref(null);\n\t\tconst featuredItem = ref(null);\n\t\tconst trendingMoviesTitle = store.getListItem('movie', 'trending').title;\n\t\tconst trendingTvTitle = store.getListItem('tv', 'trending').title;\n\n\t\tasync function fetchData() {\n\t\t\ttry {\n\t\t\t\tconst trendingMoviesData = await store.getMovies(\"trending\");\n\t\t\t\tconst trendingTvData = await store.getTvShows(\"trending\");\n\t\t\t\tlet featured;\n\n\t\t\t\tconst items = [...trendingMoviesData.data.results, ...trendingTvData.data.results];\n\t\t\t\tconst randomItem = items[Math.floor(Math.random() * items.length)];\n\t\t\t\tconst media = randomItem.title ? \"movie\" : \"tv\";\n\n\t\t\t\tif (media === \"movie\") {\n\t\t\t\t\tfeatured = await store.getMovie(randomItem.id);\n\t\t\t\t} else {\n\t\t\t\t\tfeatured = await store.getTvShow(randomItem.id);\n\t\t\t\t}\n\n\t\t\t\tfeaturedItem.value = featured.data;\n\t\t\t\ttrendingMovies.value = trendingMoviesData.data.results;\n\t\t\t\ttrendingTv.value = trendingTvData.data.results;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"There was an error in fetching data\", error);\n\t\t\t}\n\t\t}\n\n\t\tfetchData();\n\n\t\treturn {\n\t\t\ttrendingMovies,\n\t\t\ttrendingTv,\n\t\t\tfeaturedItem,\n\t\t\ttrendingMoviesTitle,\n\t\t\ttrendingTvTitle\n\t\t};\n\t},\n\n\tcomputed: {\n\t\ttrendingMoviesUrl() {\n\t\t\treturn this.trendingMovies ? { name: 'movie-category-name', params: { name: 'trending' } } : \"\";\n\t\t},\n\t\t\n\t\ttrendingTvUrl() {\n\t\t\treturn this.trendingTv ? { name: \"tv-category-name\",  params: { name: 'trending' } } : \"\";\n\t\t},\n\t},\n};\n</script>\n"],"names":["Hero","ListingCarousel","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,UACXA;AAAAA,IACA,iBAAAC;AAAAA,EACA;AAAA,EAED,QAAQ;AACP,UAAM,QAAQ;AAEd,UAAM,iBAAiB,IAAI,IAAI;AAC/B,UAAM,aAAa,IAAI,IAAI;AAC3B,UAAM,eAAe,IAAI,IAAI;AAC7B,UAAM,sBAAsB,MAAM,YAAY,SAAS,UAAU,EAAE;AACnE,UAAM,kBAAkB,MAAM,YAAY,MAAM,UAAU,EAAE;AAE5D,mBAAe,YAAY;AAC1B,UAAI;AACH,cAAM,qBAAqB,MAAM,MAAM,UAAU,UAAU;AAC3D,cAAM,iBAAiB,MAAM,MAAM,WAAW,UAAU;AACxD,YAAI;AAEJ,cAAM,QAAQ,CAAC,GAAG,mBAAmB,KAAK,SAAS,GAAG,eAAe,KAAK,OAAO;AACjF,cAAM,aAAa,MAAM,KAAK,MAAM,KAAK,WAAW,MAAM,MAAM,CAAC;AACjE,cAAM,QAAQ,WAAW,QAAQ,UAAU;AAE3C,YAAI,UAAU,SAAS;AACtB,qBAAW,MAAM,MAAM,SAAS,WAAW,EAAE;AAAA,eACvC;AACN,qBAAW,MAAM,MAAM,UAAU,WAAW,EAAE;AAAA,QAC/C;AAEA,qBAAa,QAAQ,SAAS;AAC9B,uBAAe,QAAQ,mBAAmB,KAAK;AAC/C,mBAAW,QAAQ,eAAe,KAAK;AAAA,MACtC,SAAO,OAAO;AACf,gBAAQ,MAAM,uCAAuC,KAAK;AAAA,MAC3D;AAAA,IACD;AAEA;AAEA,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;EAED;AAAA,EAED,UAAU;AAAA,IACT,oBAAoB;AACnB,aAAO,KAAK,iBAAiB,EAAE,MAAM,uBAAuB,QAAQ,EAAE,MAAM,aAAe,IAAE;AAAA,IAC7F;AAAA,IAED,gBAAgB;AACf,aAAO,KAAK,aAAa,EAAE,MAAM,oBAAqB,QAAQ,EAAE,MAAM,aAAe,IAAE;AAAA,IACvF;AAAA,EACD;AACF;;;;AArFA,QAAA,QAAAC,eAAAC,WAAA,EACO,OAAM,UADb,MAAA,CAAA,CAAA,GAAA;MAEc,OAAY,cAAA;AAF1B,UAAAC,mBAAA,iBAAA;AAAA,MAE6B,MAAM,OAAY;AAAA,MAAE,IAAG;AAAA;;AAFpD,UAAA,SAAA;AAAA;MAKS,OAAc,kBAAI,OAAc,eAAC,QAAM;AALhD,UAAAA,mBAAA,4BAAA;AAAA,MAMI,OAAO,OAAmB;AAAA,MAC1B,gBAAc,SAAiB;AAAA,MAC/B,OAAO,OAAc;AAAA;;AARzB,UAAA,SAAA;AAAA;MAYS,OAAU,cAAI,OAAU,WAAC,QAAM;AAZxC,UAAAA,mBAAA,4BAAA;AAAA,MAaI,OAAO,OAAe;AAAA,MACtB,gBAAc,SAAa;AAAA,MAC3B,OAAO,OAAU;AAAA;;AAfrB,UAAA,SAAA;AAAA;AAAA,QAAA,SAAA;;;;;;;;;"}