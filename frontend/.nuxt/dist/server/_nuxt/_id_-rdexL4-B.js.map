{"version":3,"file":"_id_-rdexL4-B.js","sources":["../../../../components/movie/MovieInfo.vue","../../../../pages/movie/[id].vue"],"sourcesContent":["<template>\n\t<div class=\"spacing\" :class=\"$style.info\">\n\t\t<div :class=\"$style.stats\">\n\t\t\t<ul class=\"nolist\">\n\t\t\t\t<li v-if=\"item.budget\">\n\t\t\t\t\t<div :class=\"$style.label\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<svg width=\"80px\" height=\"80px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<path d=\"M6 8H4M6 16H4M6 12H3M7 4.51555C8.4301 3.55827 10.1499 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C10.1499 21 8.4301 20.4417 7 19.4845M14 9.49991C13.5 9.37589 12.6851 9.37133 12 9.37589M12 9.37589C11.7709 9.37742 11.9094 9.36768 11.6 9.37589C10.7926 9.40108 10.0016 9.73666 10 10.6874C9.99825 11.7002 11 11.9999 12 11.9999C13 11.9999 14 12.2311 14 13.3124C14 14.125 13.1925 14.4811 12.1861 14.599C12.1216 14.599 12.0597 14.5991 12 14.5994M12 9.37589L12 8M12 14.5994C11.3198 14.6022 10.9193 14.6148 10 14.4999M12 14.5994L12 16\" stroke=\"#fff5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>Budget</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div :class=\"$style.value\" style=\"font-size: x-large\">$ {{ item.budget.toLocaleString() }}</div>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"item.revenue\">\n\t\t\t\t\t<div :class=\"$style.label\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<svg width=\"80px\" height=\"80px\" viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<g id=\"Layer_2\" data-name=\"Layer 2\">\n\t\t\t\t\t\t\t\t\t<g id=\"invisible_box\" data-name=\"invisible box\">\n\t\t\t\t\t\t\t\t\t\t<rect width=\"48\" height=\"48\" fill=\"none\"/>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t<g id=\"Q3_icons\" data-name=\"Q3 icons\">\n\t\t\t\t\t\t\t\t\t\t<path d=\"M44,7.1V14a2,2,0,0,1-2,2H35a2,2,0,0,1-2-2.3A2.1,2.1,0,0,1,35.1,12h2.3A18,18,0,0,0,6.1,22.2a2,2,0,0,1-2,1.8h0a2,2,0,0,1-2-2.2A22,22,0,0,1,40,8.9V7a2,2,0,0,1,2.3-2A2.1,2.1,0,0,1,44,7.1Z\" stroke=\"#fff5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t\t\t\t\t\t\t\t\t<path d=\"M4,40.9V34a2,2,0,0,1,2-2h7a2,2,0,0,1,2,2.3A2.1,2.1,0,0,1,12.9,36H10.6A18,18,0,0,0,41.9,25.8a2,2,0,0,1,2-1.8h0a2,2,0,0,1,2,2.2A22,22,0,0,1,8,39.1V41a2,2,0,0,1-2.3,2A2.1,2.1,0,0,1,4,40.9Z\" stroke=\"#fff5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t\t\t\t\t\t\t\t\t<path d=\"M24.7,22c-3.5-.7-3.5-1.3-3.5-1.8s.2-.6.5-.9a3.4,3.4,0,0,1,1.8-.4,6.3,6.3,0,0,1,3.3.9,1.8,1.8,0,0,0,2.7-.5,1.9,1.9,0,0,0-.4-2.8A9.1,9.1,0,0,0,26,15.3V13a2,2,0,0,0-4,0v2.2c-3,.5-5,2.5-5,5.2s3.3,4.9,6.5,5.5,3.3,1.3,3.3,1.8-1.1,1.4-2.5,1.4h0a6.7,6.7,0,0,1-4.1-1.3,2,2,0,0,0-2.8.6,1.8,1.8,0,0,0,.3,2.6A10.9,10.9,0,0,0,22,32.8V35a2,2,0,0,0,4,0V32.8a6.3,6.3,0,0,0,3-1.3,4.9,4.9,0,0,0,2-4h0C31,23.8,27.6,22.6,24.7,22Z\" stroke=\"#fff5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>Revenue</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div :class=\"$style.value\" style=\"font-size: x-large\">$ {{ item.revenue.toLocaleString() }}</div>\n\t\t\t\t</li>\n\t\t\t\t<li v-if=\"item.genres && item.genres.length\">\n\t\t\t\t\t<div :class=\"$style.label\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<svg fill=\"#fff5\" width=\"80px\" height=\"80px\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm10 10h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z\"/></svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>Genre</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div :class=\"$style.value\" v-html=\"formatGenres(item.genres)\" />\n\t\t\t\t</li>\n\t\t\t\t<li\n\t\t\t\t\tv-if=\"item.production_companies && item.production_companies.length\"\n\t\t\t\t>\n\t\t\t\t\t<div :class=\"$style.label\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<svg width=\"80px\" height=\"80px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t<path d=\"M21.15 6.17C20.74 5.95 19.88 5.72 18.71 6.54L17.24 7.58C17.13 4.47 15.78 3.25 12.5 3.25H6.5C3.08 3.25 1.75 4.58 1.75 8V16C1.75 18.3 3 20.75 6.5 20.75H12.5C15.78 20.75 17.13 19.53 17.24 16.42L18.71 17.46C19.33 17.9 19.87 18.04 20.3 18.04C20.67 18.04 20.96 17.93 21.15 17.83C21.56 17.62 22.25 17.05 22.25 15.62V8.38C22.25 6.95 21.56 6.38 21.15 6.17ZM11 11.38C9.97 11.38 9.12 10.54 9.12 9.5C9.12 8.46 9.97 7.62 11 7.62C12.03 7.62 12.88 8.46 12.88 9.5C12.88 10.54 12.03 11.38 11 11.38Z\" fill=\"#fff5\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>Production</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\t:class=\"$style.value\"\n\t\t\t\t\t\tv-html=\"formatProductionCompanies(item.production_companies)\"\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { apiImgUrl } from \"~/store/backend\";\nimport { name, directors, runtime } from \"~/mixins/Details\";\n\nexport default {\n\tmixins: [name, directors, runtime],\n\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tposter() {\n\t\t\tif (this.item.poster_path) {\n\t\t\t\treturn `${apiImgUrl}/w370_and_h556_bestv2${this.item.poster_path}`;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\n\tmethods: {\n\t\tformatGenres(genres) {\n\t\t\treturn genres.map((genre) => genre.name).join(\", \");\n\t\t},\n\n\t\tformatProductionCompanies(production_companies) {\n\t\t\treturn production_companies\n\t\t\t\t.map((production_company) => production_company.name)\n\t\t\t\t.join(\", \");\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\" module>\n@import \"~/assets/css/utilities/_variables.scss\";\n\n.stats {\n\tmargin-bottom: 3rem;\n\tfont-size: 1.5rem;\n\tcolor: $text-color;\n\n\t@media (min-width: $breakpoint-large) {\n\t\tfont-size: 1.6rem;\n\t}\n\n\tul {\n\t\t@media (min-width: $breakpoint-medium) {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t}\n\t}\n\n\tli {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex: 1; /* Equal width for all items */\n\t\tpadding: 0.2rem 0;\n\n\t\t@media (min-width: $breakpoint-medium) {\n\t\t\twidth: calc(33.33% - 1rem); /* Adjust as needed */\n\t\t\tmargin-right: 1rem; /* Space between items */\n\t\t}\n\n\t\t@media (min-width: $breakpoint-xlarge) {\n\t\t\twidth: 100%;\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n\n\ta {\n\t\tcolor: $primary-color;\n\t\ttext-decoration: underline;\n\t}\n}\n\n.label {\n\tflex: 1;\n\tmax-width: 90px;\n\tmargin-right: 1.5rem;\n\tcolor: #fff;\n\n\t@media (min-width: $breakpoint-xsmall) {\n\t\tmax-width: 110px;\n\t}\n}\n\n.value {\n\tflex: 2;\n}\n\n.external {\n\tul {\n\t\tdisplay: flex;\n\t\tmargin-left: -0.5rem;\n\t}\n\n\ta {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 4.4rem;\n\t\theight: 4.4rem;\n\n\t\tsvg {\n\t\t\ttransition: all 0.3s ease-in-out;\n\t\t}\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tsvg {\n\t\t\t\tfill: $primary-color;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","<template>\n    <main class=\"main\">\n        <TopNav v-if=\"item\" :title=\"metaTitle\" />\n\n        <Hero v-if=\"item\" :item=\"item\" />\n\n        <MovieInfo v-if=\"item\" :item=\"item\" />\n\n        <Credits v-if=\"item && showCredits\" :people=\"item.credits.cast\" />\n\n        <ListingCarousel\n            v-if=\"recommended && recommended.length\"\n            title=\"More Like This\"\n            :items=\"recommended\"\n        />\n    </main>\n</template>\n\n<script>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useBackendStore } from \"~/store/backend\";\nimport { name, yearStart } from \"~/mixins/Details\";\nimport TopNav from \"~/components/global/TopNav\";\nimport Hero from \"~/components/Hero\";\nimport MovieInfo from \"~/components/movie/MovieInfo\";\nimport Credits from \"~/components/Credits\";\nimport ListingCarousel from \"~/components/ListingCarousel\";\n\nexport default {\n    components: {\n        TopNav,\n        Hero,\n        MovieInfo,\n        Credits,\n        ListingCarousel,\n    },\n\n    mixins: [name, yearStart],\n\n    data() {\n        return {\n            recommended: null,\n        };\n    },\n\n    setup() {\n        const store = useBackendStore();\n        const route = useRoute();\n        const item = ref(null);\n\n        onMounted(async () => {\n            try {\n                const itemData = await store.getMovie(route.params.id);\n                item.value = itemData.data;\n            } catch (error) {\n                console.error({ status: error.code, error: error.message });\n            }\n        });\n\n        return { item };\n    },\n\n    computed: {\n        metaTitle() {\n            if (this.yearStart) {\n                return `${this.name} (${this.yearStart})`;\n            } else {\n                return `${this.name}`;\n            }\n        },\n\n        metaDescription() {\n            if (this.item.overview) {\n                return this.truncate(this.item.overview, 200);\n            } else {\n                return \"\";\n            }\n        },\n\n        metaImage() {\n            if (this.item.poster_path) {\n                return `${apiImgUrl}/w500${this.item.poster_path}`;\n            } else {\n                return \"\";\n            }\n        },\n\n        showCredits() {\n            const credits = this.item.credits;\n            return credits && credits.cast && credits.cast.length;\n        },\n    },\n\n    head() {\n        return {\n            title: this.metaTitle,\n            meta: [\n                { hid: \"og:title\", property: \"og:title\", content: this.metaTitle },\n                {\n                    hid: \"og:description\",\n                    property: \"og:description\",\n                    content: this.metaDescription,\n                },\n                {\n                    hid: \"description\",\n                    name: \"description\",\n                    content: this.metaDescription,\n                },\n                { hid: \"og:image\", property: \"og:image\", content: this.metaImage },\n                {\n                    hid: \"og:url\",\n                    property: \"og:url\",\n                    content: `${process.env.FRONTEND_URL}${this.$route.path}`,\n                },\n            ],\n            bodyAttrs: {\n                class: \"topnav-active\",\n            },\n        };\n    },\n\n    created() {\n        this.initRecommended();\n    },\n\n    methods: {\n        truncate(string, length) {\n            return this.$options.filters.truncate(string, length);\n        },\n\n        initRecommended() {\n            const store = useBackendStore();\n            const route = useRoute();\n            // if recommended don't exist, retrieve them\n            if (this.recommended !== null) return;\n\n            store\n                .getMoviesRecommended({ movie_id: route.params.id })\n                .then((response) => {\n                    this.recommended = response.data;\n                });\n        },\n    },\n};\n</script>\n"],"names":["_sfc_main","apiImgUrl","_ssrRenderAttrs","_mergeProps","_ssrRenderClass","_ssrRenderStyle","_ssrInterpolate","TopNav","Hero","MovieInfo","Credits","ListingCarousel","_ssrRenderComponent"],"mappings":"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"}