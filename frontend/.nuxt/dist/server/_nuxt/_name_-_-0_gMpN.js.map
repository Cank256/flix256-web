{"version":3,"file":"_name_-_-0_gMpN.js","sources":["../../../../pages/tv/category/[name].vue"],"sourcesContent":["<template>\n\t<main class=\"main\">\n\t\t<TopNav :title=\"title\" />\n\n\t\t<Listing\n\t\t\tv-if=\"tvShowData && tvShowData.results.length\"\n\t\t\t:title=\"title\"\n\t\t\t:items=\"tvShowData\"\n\t\t\t:loading=\"loading\"\n\t\t\t@loadMore=\"loadMore\"\n\t\t/>\n\t</main>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { useRoute } from 'vue-router';\nimport { useBackendStore } from \"~/store/backend\";\nimport TopNav from \"~/components/global/TopNav\";\nimport Listing from \"~/components/Listing\";\n\nexport default {\n\tcomponents: {\n\t\tTopNav,\n\t\tListing,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t};\n\t},\n\n\tsetup() {\n\t\tconst store = useBackendStore();\n\t\tconst route = useRoute();\n\t\tconst tvShowData = ref(null);\n\t\tconst title = store.getListItem(\"tv\", route.params.name).title;\n\n\t\tasync function fetchData() {\n\t\t\ttry {\n\t\t\t\tconst items = await store.getTvShows(route.params.name);\n\t\t\t\ttvShowData.value = items.data;\n\t\t\t} catch(error) {\n\t\t\t\tconsole.error(\"There was an error in fetching data\", error);\n\t\t\t}\n\t\t}\n\n\t\tfetchData();\n\n\t\treturn {\n\t\t\ttvShowData,\n\t\t\ttitle,\n\t\t};\n\t},\n\n\thead() {\n\t\treturn {\n\t\t\ttitle: this.title,\n\t\t\tmeta: [\n\t\t\t\t{ hid: \"og:title\", property: \"og:title\", content: this.title },\n\t\t\t\t{\n\t\t\t\t\thid: \"og:url\",\n\t\t\t\t\tproperty: \"og:url\",\n\t\t\t\t\tcontent: `${process.env.FRONTEND_URL}${this.$route.path}`,\n\t\t\t\t},\n\t\t\t],\n\t\t\tbodyAttrs: {\n\t\t\t\tclass: \"topnav-active\",\n\t\t\t},\n\t\t};\n\t},\n\n\tmethods: {\n\t\tloadMore() {\n\t\t\tconst store = useBackendStore();\n\t\t\tthis.loading = true;\n\n\t\t\tstore.getTvShows(this.$route.params.name, {page: this.tvShowData.page + 1})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.tvShowData.results = this.tvShowData.results.concat(response.data.results);\n\t\t\t\t\tthis.tvShowData.page = response.data.page;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t},\n\t},\n};\n</script>\n"],"names":["TopNav","Listing","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,MAAK,YAAU;AAAA,EACd,YAAY;AAAA,IACX,QAAAA;AAAAA,IACA,SAAAC;AAAAA,EACA;AAAA,EAED,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA;EAEV;AAAA,EAED,QAAQ;AACP,UAAM,QAAQ;AACd,UAAM,QAAQ;AACd,UAAM,aAAa,IAAI,IAAI;AAC3B,UAAM,QAAQ,MAAM,YAAY,MAAM,MAAM,OAAO,IAAI,EAAE;AAEzD,mBAAe,YAAY;AAC1B,UAAI;AACH,cAAM,QAAQ,MAAM,MAAM,WAAW,MAAM,OAAO,IAAI;AACtD,mBAAW,QAAQ,MAAM;AAAA,MACxB,SAAM,OAAO;AACd,gBAAQ,MAAM,uCAAuC,KAAK;AAAA,MAC3D;AAAA,IACD;AAEA;AAEA,WAAO;AAAA,MACN;AAAA,MACA;AAAA;EAED;AAAA,EAED,OAAO;AACN,WAAO;AAAA,MACN,OAAO,KAAK;AAAA,MACZ,MAAM;AAAA,QACL,EAAE,KAAK,YAAY,UAAU,YAAY,SAAS,KAAK,MAAO;AAAA,QAC9D;AAAA,UACC,KAAK;AAAA,UACL,UAAU;AAAA,UACV,SAAS,GAAG,QAAQ,IAAI,YAAY,GAAG,KAAK,OAAO,IAAI;AAAA,QACvD;AAAA,MACD;AAAA,MACD,WAAW;AAAA,QACV,OAAO;AAAA,MACP;AAAA;EAEF;AAAA,EAED,SAAS;AAAA,IACR,WAAW;AACV,YAAM,QAAQ;AACd,WAAK,UAAU;AAEf,YAAM,WAAW,KAAK,OAAO,OAAO,MAAM,EAAC,MAAM,KAAK,WAAW,OAAO,EAAC,CAAC,EACxE,KAAK,CAAC,aAAa;AACnB,aAAK,WAAW,UAAU,KAAK,WAAW,QAAQ,OAAO,SAAS,KAAK,OAAO;AAC9E,aAAK,WAAW,OAAO,SAAS,KAAK;AACrC,aAAK,UAAU;AAAA,OACf,EACA,MAAM,MAAM;AACZ,aAAK,UAAU;AAAA,MAChB,CAAC;AAAA,IACF;AAAA,EACD;AACF;;;;AAzFA,QAAA,QAAAC,eAAAC,WAAA,EACO,OAAM,UADb,MAAA,CAAA,CAAA,GAAA;AAAA,QAAAC,mBAAA,mBAAA,EAEW,OAAO,OAAK,MAAA,GAAA,MAAA,OAAA,CAAA;AAGd,MAAA,OAAA,cAAc,OAAA,WAAW,QAAQ,QAAM;AALhD,UAAAA,mBAAA,oBAAA;AAAA,MAMI,OAAO,OAAK;AAAA,MACZ,OAAO,OAAU;AAAA,MACjB,SAAS,MAAO;AAAA,MAChB,YAAU,SAAQ;AAAA;;AATtB,UAAA,SAAA;AAAA;AAAA,QAAA,SAAA;;;;;;;;;"}