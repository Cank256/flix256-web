{"version":3,"file":"Credits-WMYsmLQ4.js","sources":["../../../../components/CreditsItem.vue","../../../../components/Credits.vue"],"sourcesContent":["<template>\n\t<div class=\"credits-item\">\n\t\t<nuxt-link class=\"credits-item__link\">\n\t\t\t<div class=\"credits-item__img\">\n\t\t\t\t<NuxtImg\n\t\t\t\t\tv-if=\"poster\"\n\t\t\t\t\t:src=\"poster\"\n\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t:alt=\"person.name\"\n          width=\"100%\"\n          height=\"auto\"\n\t\t\t\t/>\n\n\t\t\t\t<span v-else>\n\t\t\t\t\t<!-- eslint-disable-next-line -->\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\tfill=\"#999\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\td=\"M24 22h-24v-20h24v20zm-1-19h-22v18h22v-18zm-1 16h-19l4-7.492 3 3.048 5.013-7.556 6.987 12zm-11.848-2.865l-2.91-2.956-2.574 4.821h15.593l-5.303-9.108-4.806 7.243zm-4.652-11.135c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5zm0 1c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5.672-1.5 1.5-1.5z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<h2 class=\"credits-item__name\">\n\t\t\t\t{{ person.name }}\n\t\t\t</h2>\n\n\t\t\t<div class=\"credits-item__character\">\n\t\t\t\t{{ person.character }}\n\t\t\t</div>\n\t\t</nuxt-link>\n\t</div>\n</template>\n\n<script>\nimport { apiImgUrl } from \"~/store/backend\";\n\nexport default {\n\tprops: {\n\t\tperson: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tposter() {\n\t\t\tif (this.person.profile_path) {\n\t\t\t\treturn `${apiImgUrl}/w370_and_h556_bestv2${this.person.profile_path}`;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import \"~/assets/css/utilities/_variables.scss\";\n\n.credits-item {\n\tmargin-bottom: 2rem;\n\tline-height: $base-line-height;\n}\n\n.credits-item__img {\n\tposition: relative;\n\theight: 0;\n\tpadding-top: 130%;\n\toverflow: hidden;\n\tbackground-color: $secondary-color;\n\ttransition: transform 0.3s ease-in-out;\n\n\timg,\n\tspan {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttransform: scale(0.97);\n\t}\n\n\tspan {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t&.lazyloaded img {\n\t\ttransform: scale(1);\n\t}\n}\n\n.credits-item__link:hover,\n.credits-item__link:focus {\n\t.credits-item__img {\n\t\ttransform: scale(1.02);\n\t}\n}\n\n.credits-item__name {\n\tmargin-top: 1rem;\n\tfont-size: 1.3rem;\n\tletter-spacing: $letter-spacing;\n\n\t@media (min-width: $breakpoint-large) {\n\t\tmargin-bottom: 0.5rem;\n\t\tfont-size: 1.5rem;\n\t}\n}\n\n.credits-item__character {\n\tfont-size: 1.2rem;\n\tcolor: $text-color-grey;\n\tletter-spacing: $letter-spacing;\n\n\t@media (min-width: $breakpoint-large) {\n\t\tfont-size: 1.4rem;\n\t}\n}\n</style>\n","<template>\n\t<div v-if=\"people && people.length\" class=\"listing listing--carousel\">\n\t\t<div class=\"listing__head\">\n\t\t\t<h2 class=\"listing__title\">Cast</h2>\n\t\t</div>\n\n\t\t<div class=\"carousel\">\n\t\t\t<button\n\t\t\t\tclass=\"carousel__nav carousel__nav--left\"\n\t\t\t\taria-label=\"Previous\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t:disabled=\"disableLeftButton\"\n\t\t\t\t@click=\"moveToClickEvent('left')\"\n\t\t\t>\n\t\t\t\t<!-- eslint-disable-next-line -->\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"24\"\n\t\t\t\t\theight=\"24\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"#fff\"\n\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\tstroke-miterlimit=\"10\"\n\t\t\t\t\t\td=\"M17.9 23.2L6.1 12 17.9.8\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\n\t\t\t<div ref=\"carouselElement\" class=\"carousel__items\" @scroll=\"scrollEvent\">\n\t\t\t\t<CreditsItem\n\t\t\t\t\tv-for=\"person in people\"\n\t\t\t\t\t:key=\"`credit-${person.id}`\"\n\t\t\t\t\t:person=\"person\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<button\n\t\t\t\tclass=\"carousel__nav carousel__nav--right\"\n\t\t\t\taria-label=\"Next\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t:disabled=\"disableRightButton\"\n\t\t\t\t@click=\"moveToClickEvent('right')\"\n\t\t\t>\n\t\t\t\t<!-- eslint-disable-next-line -->\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"24\"\n\t\t\t\t\theight=\"24\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"#fff\"\n\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\tstroke-miterlimit=\"10\"\n\t\t\t\t\t\td=\"M6.1 23.2L17.9 12 6.1.8\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport smoothscroll from \"smoothscroll-polyfill\";\nimport { debounce } from \"~/mixins/Functions\";\nimport CreditsItem from \"~/components/CreditsItem\";\n\nexport default {\n\tcomponents: {\n\t\tCreditsItem,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\telementWidth: 0,\n\t\t\tcarouselWidth: 0,\n\t\t\tvisibleWidth: 0,\n\t\t\tmaximumPosition: 0,\n\t\t\tunusableVisibleWidth: 0,\n\t\t\tdisableLeftButton: true,\n\t\t\tdisableRightButton: false,\n\t\t};\n\t},\n\n\tprops: {\n\t\tpeople: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tmounted() {\n\t\tsmoothscroll.polyfill();\n\t\twindow.addEventListener(\"resize\", this.resizeEvent);\n\t\tthis.calculateState(this.people.length);\n\t},\n\n\tbeforeDestroy() {\n\t\twindow.removeEventListener(\"resize\", this.resizeEvent);\n\t},\n\n\tconstructor() {\n\t\tthis.$refs = {\n\t\t\tcarouselElement: document.createElement(\"div\"),\n\t\t};\n\t},\n\n\tmethods: {\n\t\tcalculateState(numberOfItems) {\n\t\t\tif (!(this.$refs.carouselElement instanceof HTMLElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet unusableVisibleWidth = 72;\n\t\t\tconst firstChild =\n\t\t\t\tthis.$refs.carouselElement.querySelector(\":first-child\");\n\t\t\tconst elementWidth = firstChild\n\t\t\t\t? firstChild.getBoundingClientRect().width\n\t\t\t\t: 0;\n\t\t\tconst carouselWidth = numberOfItems * elementWidth;\n\t\t\tconst maximumPosition = this.$refs.carouselElement.scrollWidth;\n\n\t\t\tif (window.innerWidth >= 1200) {\n\t\t\t\tunusableVisibleWidth = 92;\n\t\t\t}\n\n\t\t\tconst visibleWidth =\n\t\t\t\tthis.$refs.carouselElement.offsetWidth - unusableVisibleWidth;\n\n\t\t\tthis.unusableVisibleWidth = unusableVisibleWidth;\n\t\t\tthis.elementWidth = elementWidth;\n\t\t\tthis.carouselWidth = carouselWidth;\n\t\t\tthis.visibleWidth = visibleWidth;\n\t\t\tthis.maximumPosition = maximumPosition;\n\t\t\tthis.disableLeftButton = !this.$refs.carouselElement.scrollLeft;\n\t\t\tthis.disableRightButton = visibleWidth >= carouselWidth;\n\t\t},\n\n\t\tmoveTo(width) {\n\t\t\tthis.$refs.carouselElement.scrollTo({\n\t\t\t\tleft: width,\n\t\t\t\tbehavior: \"smooth\",\n\t\t\t});\n\t\t},\n\n\t\tmoveToClickEvent(direction = \"left\" | \"right\") {\n\t\t\tconst invisible =\n\t\t\t\tthis.$refs.carouselElement.scrollLeft +\n\t\t\t\t(direction === \"left\" ? -this.visibleWidth + 1 : this.visibleWidth);\n\t\t\tconst remainder = invisible - (invisible % this.elementWidth);\n\n\t\t\tthis.moveTo(remainder);\n\t\t},\n\n\t\tscrollEvent() {\n\t\t\tconst scrollLeft = this.$refs.carouselElement.scrollLeft;\n\t\t\tconst end = this.maximumPosition - this.visibleWidth - this.elementWidth;\n\n\t\t\tthis.disableLeftButton = scrollLeft < 3;\n\t\t\tthis.disableRightButton = scrollLeft > end;\n\t\t},\n\t\tresizeEvent: debounce(function () {\n\t\t\tthis.calculateState(this.people.length);\n\t\t}, 100),\n\t},\n};\n</script>\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_withCtx","_push","_parent","_ssrInterpolate","_createVNode","_createBlock","_openBlock","_toDisplayString","CreditsItem","_ssrIncludeBooleanAttr","_ssrRenderList"],"mappings":"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"}